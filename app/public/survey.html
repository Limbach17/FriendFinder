<!DOCTYPE html>
<html lang="en-us">
    <head>
        <title>Homework 10 | FriendFinder/survey</title>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
        <script src="https://code.jquery.com/jquery.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>

  <!-- Chosen -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/chosen/1.5.1/chosen.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/chosen/1.5.1/chosen.jquery.min.js"></script>
    </head> 
    <body>
        <div class="container">
            <div class="row-lg-12">
                <div class="col-lg-12">
                    <div class="row-lg-12">
                        <br>
                        <h3 class="text-left">Survey Questions</h3>
                        <hr>
                    </div>

                    <div class="row-lg-12">
                        <h4 class="text-left"><strong>About you</strong></h4>
                        <form>
                            <div class="form-group">
                                <label for="input-name">Name (required)</label>
                                <input type="name" id="friend-name" class="form-control" id="input-name" aria-describedby="nameHelp" 
                                    placeholder="Enter name">
                            </div>

                            <div class="form-group">
                                    <label for="input-pict">Upload a picture of yourself (required)</label>
                                    <input type="link" id="pict-link" class="form-control" id="input-pict" aria-describedby="pictHelp" 
                                        placeholder="Upload a picture">
                            </div>
                        </form>
                        <hr>
                    </div>

                    <div class="row-lg-12">
                        <h3 class="text-left">Question 1</h3>
                         <p class="text-left">Your mind is always buzzing with unexplored ideas and plans.</p>
                        <select id="question-1" class="custom-select">
                            <option selected>--</option>
                            <option value="1">1 (strongly disagree)</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5 (strongly agree)</option>
                        </select>
                        <br>

                        <h3 class="text-left">Question 2</h3>
                         <p class="text-left">Generally speaking, you rely more on your experience than your imagination.</p>
                        <select id="question-2" class="custom-select">
                            <option selected>--</option>
                            <option value="1">1 (strongly disagree)</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5 (strongly agree)</option>
                        </select>
                        <br>

                        <h3 class="text-left">Question 3</h3>
                         <p class="text-left">3ou find it easy to stay relaxed and focuse even when there is some pressure.</p>
                        <select id="question-3" class="custom-select">
                            <option selected>--</option>
                            <option value="1">1 (strongly disagree)</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5 (strongly agree)</option>
                        </select>
                        <br>

                        <h3 class="text-left">Question 4</h3>
                         <p class="text-left">You rarely do something just out of sheer curiosity.</p>
                        <select id="question-4" class="custom-select">
                            <option selected>--</option>
                            <option value="1">1 (strongly disagree)</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5 (strongly agree)</option>
                        </select>
                        <br>

                        <h3 class="text-left">Question 5</h3>
                         <p class="text-left">People can rarely upset you.</p>
                        <select id="question-5" class="custom-select">
                            <option selected>--</option>
                            <option value="1">1 (strongly disagree)</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5 (strongly agree)</option>
                        </select>
                        <br>

                        <h3 class="text-left">Question 6</h3>
                         <p class="text-left">It is often difficult for you to relate to other people's feelings.</p>
                        <select id="question-6" class="custom-select">
                            <option selected>--</option>
                            <option value="1">1 (strongly disagree)</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5 (strongly agree)</option>
                        </select>
                        <br>

                        <h3 class="text-left">Question 7</h3>
                         <p class="text-left">In a discussion, truth should be more important than people's sensitivities.</p>
                        <select id="question-7" class="custom-select">
                            <option selected>--</option>
                            <option value="1">1 (strongly disagree)</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5 (strongly agree)</option>
                        </select>
                        <br>

                        <h3 class="text-left">Question 8</h3>
                         <p class="text-left">You rarely get carried away by fantasies and ideas.</p>
                        <select id="question-8" class="custom-select">
                            <option selected>--</option>
                            <option value="1">1 (strongly disagree)</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5 (strongly agree)</option>
                        </select>
                        <br>

                        <h3 class="text-left">Question 9</h3>
                         <p class="text-left">You think that everyone's views should be respected regardless of whether they 
                             are supported by facts or not..</p>
                        <select id="question-9" class="custom-select">
                            <option selected>--</option>
                            <option value="1">1 (strongly disagree)</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5 (strongly agree)</option>
                        </select>
                        <br>

                        <h3 class="text-left">Question 10</h3>
                         <p class="text-left">YOu feel more energetic after spending some time with a group of people.</p>
                        <select id="question-10" class="custom-select">
                            <option selected>--</option>
                            <option value="1">1 (strongly disagree)</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5 (strongly agree)</option>
                        </select>
                        <br>
                        <br>

                        <button type="submit" id="submit-survey" class="btn btn-primary submit btn-lg btn-block" 
                        data-toggle="modal" data-target="#bestMatch-modal">submit</button>
                        <!-- <button type="button" class="btn btn-info btn-lg" data-toggle="modal" data-target="#myModal">Open Modal</button> -->
                        
                        
                        <div class="modal" id="bestMatch-modal" tabindex="-1" role="dialog">
                            <div class="modal-dialog" role="document">
                                <div class="modal-content">
                                    <div class="modal-header">
                                    <h5 class="modal-title">Holy Friends, Batman!</h5>
                                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                        <span aria-hidden="true">&times;</span>
                                    </button>
                                    </div>
                                    <div class="modal-body"><p>The results of your closest match is show below.</p>
                                    </div>
                                    <div class="modal-footer">
                                        <h3 id="bestMatch-name"></h3>
                                        <img id="bestMatch-pic" src="www.google.com" alt="">
                                    </div>
                                </div>
                            </div>
                        </div>
 
                        <!-- <div class="modal fade" id="myModal" role="dialog">
                            <div class="modal-dialog">
                            
                            
                              <div class="modal-content">
                                <div class="modal-header">
                                  <button type="button" class="close" data-dismiss="modal">&times;</button>
                                  <h4 class="modal-title">Modal Header</h4>
                                </div>
                                <div class="modal-body">
                                  <p>Some text in the modal.</p>
                                </div>
                                <div class="modal-footer">
                                  <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                                </div>
                              </div>
                              
                            </div>
                          </div> -->
                        <br>
                        <hr>

                    </div>

                        

                </div>
            </div>
        </div>

        <footer class="footer">
            <div class="container">
                <p><a href="/api/friends" target="blank">API Friends List</a> | 
                    <a href="https://github.com/Limbach17/FriendFinder" target="blank">Github repo</a>
            </div>
        </footer>


        

    <script type="text/javascript">
        $("#submit-survey").on("click", function (event){
            event.preventDefault();

            var newUser = {
                name: $("#friend-name").val(),
                picture: $("#pict-link").val(),
                scores: [
                    $("#question-1").val(),
                    $("#question-2").val(),
                    $("#question-3").val(),
                    $("#question-4").val(),
                    $("#question-5").val(),
                    $("#question-6").val(),
                    $("#question-7").val(),
                    $("#question-8").val(),
                    $("#question-9").val(),
                    $("#question-10").val()
                ]
            };

            console.log(newUser);

            $.post("/api/friends", newUser,
                function(data){

                    $("#bestMatch-name").text(data.name);
                    $("#bestMatch-pic").attr("src", data.picture);
                    $("#bestMatch-pic").attr("alt", "Link to " + data.name + "'s picture.");
// 
                     $("#bestMatch-modal").modal("show");
        
                });

                $("#friend-name").val("");
                    $("#pict-link").val("");
                    $("#question-1").val("");
                    $("#question-2").val("");
                    $("#question-3").val("");
                    $("#question-4").val("");
                    $("#question-5").val("");
                    $("#question-6").val("");
                    $("#question-7").val("");
                    $("#question-8").val("");
                    $("#question-9").val("");
                    $("#question-10").val(""); 
        });

    </script>
        
    </body>
</html>